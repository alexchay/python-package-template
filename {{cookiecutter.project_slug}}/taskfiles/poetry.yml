# https://taskfile.dev
version: "3"

vars:
  CODE_DIRS: src/ tests/
  PYTHON: python3
  PYTHON_VERSION: 3.10


tasks:

  version:
    desc: Check poetry version
    cmds:
      - poetry --version

  show_env_info:
    desc: Show poetry environment info
    cmds:
      - poetry env info

  install:
    desc: Install poetry
    cmds:
      - curl -sSL https://install.python-poetry.org | POETRY_HOME=$HOME/.poetry {{.PYTHON}} -
      - poetry config virtualenvs.prefer-active-python true --local
      - poetry --version

  remove:
    desc: Remove poetry
    cmds:
      - curl -sSL https://install.python-poetry.org | POETRY_HOME=$HOME/.poetry {{.PYTHON}} - --uninstall

  update:
    desc: Update poetry
    cmds:
      - poetry --version
      - poetry self update
      - poetry --version
